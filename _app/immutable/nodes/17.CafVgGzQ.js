import{a as p,t as c}from"../chunks/disclose-version.D_FZJbBx.js";import"../chunks/legacy.CpgGiEmo.js";import{s as t,f as h,n as m}from"../chunks/runtime.RAT1rWNc.js";import{l as d,s as f}from"../chunks/props.BzOUVZJ9.js";import{M as u}from"../chunks/MdsvexLayout.CsLuBmZF.js";import{C as s}from"../chunks/Code.Km0sKGWE.js";const g={title:"Notes: Setting Up Postfix on Windows",categories:"software linux",comments:!0};var w=c('<p>(Notes primarily for my own reference.)</p> <p>I want this so that I don’t have to set up a bunch of generic accounts for each machine, seems like it could very quickly spiral into a maintenance nightmare. Keep in mind that most Google Workplace orgs will block these for many reasons. Somehow, Microsoft doesn’t seem to care.</p> <p>I settled on <a href="https://github.com/bokysan/docker-postfix" rel="nofollow">this docker image</a> after trying the following:</p> <ul><li>The built in SMTP server on Windows Server 2022: Just flat-out doesn’t work to the point where attempting to send crashes the service outright. Seriously, fuck this thing. What a ginormous waste of time.</li> <li>Postfix under WSL(2): WSL(2) is ALSO not supported on Windows Server because Microsoft fucking hates you.</li></ul> <p>Once you’ve got Docker set up:</p> <!> <p>When sending emails, make sure to set the server to <code>localhost:1587</code>.</p> <h1 class="h1-1">Bonus!</h1> <p>You may be operating this from a network where the MX records aren’t working for one reason or another. You can manually specify the IP address to route the emails to using the following:</p> <!> <p>You can find the MX record IP using a tool like <a href="https://mxtoolbox.com/" rel="nofollow">MXToolbox</a>.</p>',1);function M(r,a){const n=d(a,["children","$$slots","$$events","$$legacy"]);u(r,f(()=>n,g,{children:(i,y)=>{var o=w(),e=t(h(o),10);s(e,{lang:"powershell",code:'docker run `\n	--name postfix `\n	-e "ALLOWED_SENDER_DOMAINS=localhost" `\n	--restart always `\n	-p 1587:587 `\n	boky/postfix'});var l=t(e,8);s(l,{lang:"powershell",code:'docker run `\n	--name postfix `\n	-e "ALLOWED_SENDER_DOMAINS=localhost" `\n	--restart always `\n	-p 1587:587 `\n	-e "POSTFIX_disable_dns_lookups=yes" `\n	--add-host [DOMAIN NAME]:[MX RECORD IP] `\n	boky/postfix'}),m(2),p(i,o)},$$slots:{default:!0}}))}export{M as component};
