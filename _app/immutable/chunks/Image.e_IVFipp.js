import{a as d,t as h,c as ie,b as ae}from"./disclose-version.CfzsbSGA.js";import"./legacy.B0FhJV7j.js";import{a7 as et,p as A,a as D,g as t,c as V,r as G,Z as I,f as B,s as P,_ as x,aP as Z,L as se,aQ as oe,t as L,d as re,n as T}from"./runtime.BrN7l-ws.js";import{s as R}from"./render.CqP9MSGJ.js";import{i as k}from"./if.LhJ99sTj.js";import{s as N,a as tt,c as Oe,b as at}from"./attributes.8E-enSTo.js";import{l as rt,u as it,s as st}from"./Image.svelte_svelte_type_style_lang.56mcLlVY.js";import{e as U,l as nt}from"./store.Dc7Z_6ui.js";import{i as X}from"./lifecycle.B4WIHQ57.js";import{p as f,l as Ie}from"./props.C7ZzpKBr.js";import{s as ne,a as lt}from"./Button.svelte_svelte_type_style_lang.CNva6Nee.js";import{t as Ce,q as ze,e as ot,i as ct,s as dt}from"./index.5OG2ixCQ.js";import{b as le}from"./this.CI-8eGEA.js";import{o as Ee}from"./index-client.HF6I0Hdf.js";import{B as qe}from"./Button.nzFcQipn.js";function Pe(s,e){var v;var n=(v=s.$$events)==null?void 0:v[e.type],y=et(n)?n.slice():n==null?[]:[n];for(var o of y)o.call(this,e)}function ft(s,e){A(e,!1),Ee(()=>(rt(),it)),X(),D()}const vt=s=>s;function ut(s){const e=s-1;return e*e*e+1}function Be(s,{delay:e=0,duration:n=400,easing:y=vt}={}){const o=+getComputedStyle(s).opacity;return{delay:e,duration:n,easing:y,css:v=>`opacity: ${v*o}`}}function At(s,{delay:e=0,duration:n=400,easing:y=ut,start:o=0,opacity:v=0}={}){const C=getComputedStyle(s),p=+C.opacity,M=C.transform==="none"?"":C.transform,a=1-o,r=p*(1-v);return{delay:e,duration:n,easing:y,css:(_,c)=>`
			transform: ${M} scale(${1-a*c});
			opacity: ${p-r*c}
		`}}var gt=h('<!>  <div class="bg svelte-1kdbqoo"></div>  <div class="outer-container svelte-1kdbqoo"><!></div>',1),mt=h('<div class="overlay"><!></div>');function _t(s,e){A(e,!1);let n=f(e,"open",12,!1),y=f(e,"allowClose",8,!0),o=I(),v=I();Ee(()=>{let r=document.getElementById("overlay-container");return r||(r=document.body.appendChild(document.createElement("div")),r.id="overlay-container"),r.appendChild(t(o)),()=>{r.removeChild(t(o))}});function C(r){r.target===t(v)&&y()&&n(!1)}X();var p=mt(),M=V(p);{var a=r=>{var _=gt(),c=B(_);ft(c,{});var S=P(c,2),b=P(S,2),E=V(b);ne(E,e,"default",{},null),G(b),le(b,j=>x(v,j),()=>t(v)),Ce(3,S,()=>Be,()=>({duration:500,easing:ze})),U("click",b,C),Ce(3,b,()=>Be,()=>({duration:100,easing:ze})),d(r,_)};k(M,r=>{n()&&r(a)})}G(p),le(p,r=>x(o,r),()=>t(o)),d(s,p),D()}var ht=h("<source>"),pt=h("<picture><!> <!></picture>");function bt(s,e){A(e,!1);let n=f(e,"sources",24,()=>({})),y=f(e,"sizes",8,void 0),o=I([]);Z(()=>se(n()),()=>{x(o,Object.entries(n()))}),oe();var v=ie(),C=B(v);{var p=a=>{var r=pt(),_=V(r);ot(_,1,()=>t(o),ct,(S,b)=>{let E=()=>t(b)[0],j=()=>t(b)[1];var g=ht();L(()=>{N(g,"type",`image/${E()??""}`),N(g,"sizes",y()),N(g,"srcset",j())}),d(S,g)});var c=P(_,2);ne(c,e,"default",{},null),G(r),d(a,r)},M=a=>{var r=ie(),_=B(r);ne(_,e,"default",{},null),d(a,r)};k(C,a=>{t(o).length?a(p):a(M,!1)})}d(s,v),D()}function Le(s){return s&&Object.keys(s).length}function Me(s){return s[0]==="#"?s:`url(data:image/webp;base64,${s}) no-repeat center/cover`}var xt=h("<img>");function je(s,e){const n=Ie(e,["children","$$slots","$$events","$$legacy"]),y=Ie(n,["src","sizes","width","height","loading","decoding","ref"]);A(e,!1);let o=f(e,"src",24,()=>({})),v=f(e,"sizes",8,void 0),C=f(e,"width",8,void 0),p=f(e,"height",8,void 0),M=f(e,"loading",8,"lazy"),a=f(e,"decoding",8,"async"),r=f(e,"ref",12,void 0),_=I([]),c=I({}),S=I(void 0);Z(()=>se(o()),()=>{x(_,o().sources||{})}),Z(()=>se(o()),()=>{x(c,o().img||{})}),Z(()=>(t(c),Me),()=>{if(Le(t(c))){const{lqip:g}=t(c);x(S,g?Me(g):void 0)}}),oe(),X();var b=ie(),E=B(b);{var j=g=>{bt(g,{get sources(){return t(_)},get sizes(){return v()},children:(ce,Y)=>{var z=xt();let Q;le(z,q=>r(q),()=>r()),L(()=>{Q=tt(z,Q,{...y,loading:M(),decoding:a(),width:C()||t(c).w||void 0,height:p()||t(c).h||void 0,src:t(c).src}),lt(z,"background",t(S))}),nt(z),U("click",z,function(q){Pe.call(this,e,q)}),U("load",z,function(q){Pe.call(this,e,q)}),d(ce,z)},$$slots:{default:!0}})};k(E,g=>{Le(t(c))&&g(j)})}d(s,b),D()}var yt=h('<img alt=" ">'),St=h('<img class="img img-lightbox svelte-1f2ia6c" alt=" ">'),kt=h(" <br>",1),wt=h(" <br>",1),Ot=h(" <br>",1),It=h(" <br>",1),Ct=h(" <br> <!> <!> <!> <!> <!>",1),zt=h('<div class="overlay-exif svelte-1f2ia6c"><!></div>'),qt=h('<div class="full-src-link svelte-1f2ia6c"><!></div> <!> <!>',1),Pt=h('<div class="svelte-1f2ia6c"><!></div> <!>',1);function Dt(s,e){var de,fe,ve,ue,ge,me,_e,he;A(e,!1);let n=f(e,"src",8),y=f(e,"fullSrc",8,void 0),o=f(e,"maxHeight",8,"450px"),v=f(e,"width",8,void 0),C=f(e,"height",8,void 0),p=f(e,"enableLightbox",8,!0),M=f(e,"square",8,!1),a=f(e,"exif",8,void 0),r=I(!1),_=I(!1);if(typeof n()=="string"){let u=n().split("?")[0].endsWith(".gif"),w=n().split("?")[0].endsWith(".svg");x(r,u||w),x(_,u)}let c=I(y()||n());typeof t(c)=="object"&&x(c,t(c).img.src);let S=I(!1);const b={img:!0,clickable:p(),square:M()},E=((fe=(de=a())==null?void 0:de.Software)==null?void 0:fe.description)||"";let j=I(E.length>0);t(j)&&!isNaN(parseInt(E[0]))&&x(j,!1);let g=(ue=(ve=a())==null?void 0:ve.ISOSpeedRatings)==null?void 0:ue.description;g&&(g="ISO "+g);const Y=[(me=(ge=a())==null?void 0:ge.FNumber)==null?void 0:me.description,(he=(_e=a())==null?void 0:_e.ShutterSpeedValue)==null?void 0:he.description,g].filter(u=>u).join(", ");let z=I(!1);Z(()=>t(S),()=>{t(S)||x(z,!1)}),oe(),X();var Q=Pt(),q=B(Q),Fe=V(q);{var He=u=>{var w=yt();L(pe=>{st(w,at(pe),"svelte-1f2ia6c"),N(w,"src",n()),N(w,"style",t(_)?"image-rendering: pixelated;":"")},[()=>Oe(b)],re),d(u,w)},Ne=u=>{const w=re(()=>Oe(b));je(u,{get class(){return t(w)},get src(){return n()},alt:" "})};k(Fe,u=>{t(r)?u(He):u(Ne,!1)})}G(q);var We=P(q,2);{var Te=u=>{_t(u,{get open(){return t(S)},set open(w){x(S,w)},children:(w,pe)=>{var be=qt(),$=B(be),Ve=V($);qe(Ve,{get onClick(){return t(c)},children:(O,F)=>{T();var ee=ae("🔗 Open Full Image");d(O,ee)},$$slots:{default:!0}}),G($);var xe=P($,2);{var Ge=O=>{var F=St();L(()=>{N(F,"src",n()),N(F,"style",t(_)?"image-rendering: pixelated;":"")}),d(O,F)},Qe=O=>{je(O,{class:"img img-lightbox",get src(){return n()},alt:" "})};k(xe,O=>{t(r)?O(Ge):O(Qe,!1)})}var Re=P(xe,2);{var Ze=O=>{var F=zt(),ee=V(F);{var Ae=W=>{var J=Ct(),te=B(J),K=P(te,3);{var Je=l=>{var i=kt(),m=B(i);T(),L(()=>{var H,we;return R(m,`📷 ${((H=a().Make)==null?void 0:H.description)??""} ${((we=a().Model)==null?void 0:we.description)??""}`)}),d(l,i)};k(K,l=>{var i,m;((i=a().Make)!=null&&i.description||(m=a().Model)!=null&&m.description)&&l(Je)})}var ye=P(K,2);{var Ke=l=>{var i=wt(),m=B(i);T(),L(()=>{var H;return R(m,`🔎 ${((H=a().Lens)==null?void 0:H.description)??""}`)}),d(l,i)};k(ye,l=>{var i;(i=a().Lens)!=null&&i.description&&l(Ke)})}var Se=P(ye,2);{var Ue=l=>{var i=Ot(),m=B(i);m.nodeValue=`⚙️ ${Y??""}`,T(),d(l,i)};k(Se,l=>{Y&&l(Ue)})}var ke=P(Se,2);{var Xe=l=>{var i=It(),m=B(i);T(),L(()=>{var H;return R(m,`⚡ ${((H=a().Flash)==null?void 0:H.description)??""}`)}),d(l,i)};k(ke,l=>{var i;(i=a().Flash)!=null&&i.description&&l(Xe)})}var Ye=P(ke,2);{var $e=l=>{var i=ae();L(()=>{var m;return R(i,`🖌️ Edited with ${((m=a().Software)==null?void 0:m.description)??""}`)}),d(l,i)};k(Ye,l=>{t(j)&&l($e)})}L(()=>{var l,i,m;return R(te,`🖵 (Original: ${((l=a()["Image Height"])==null?void 0:l.value)??""}x${((i=a()["Image Width"])==null?void 0:i.value)??""} ${((m=a()["Bits Per Sample"])==null?void 0:m.value)??""}bpp)`)}),d(W,J)},De=W=>{qe(W,{onClick:()=>x(z,!0),children:(J,te)=>{T();var K=ae("ℹ️");d(J,K)},$$slots:{default:!0}})};k(ee,W=>{t(z)?W(Ae):W(De,!1)})}G(F),d(O,F)};k(Re,O=>{a()&&O(Ze)})}d(w,be)},$$slots:{default:!0},$$legacy:!0})};k(We,u=>{p()&&u(Te)})}L(u=>N(q,"style",u),[()=>dt({"--img-max-height":o(),"--img-width":v(),"--img-height":C()})],re),U("click",q,()=>{x(S,!0)}),d(s,Q),D()}export{Dt as I,je as S,Be as f,At as s};
