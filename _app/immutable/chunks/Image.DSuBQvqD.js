import{a as n,t as b,c as ae,b as te}from"./disclose-version.COfjB1Z8.js";import"./legacy.CO0tqMOo.js";import{a9 as at,p as A,a as D,g as t,c as R,r as N,ad as k,a0 as h,ax as V,ay as se,aR as rt,f as L,G as re,s as O,t as j,d as de,n as G}from"./runtime.CB7vMNxi.js";import{s as K}from"./render.C_owM0lh.js";import{i as S}from"./if.CpsS6z-Y.js";import{s as W,a as it,c as Ce,b as st}from"./attributes.CiUNM-ED.js";import{l as lt,u as nt,s as ot}from"./Image.svelte_svelte_type_style_lang.zU0vM59V.js";import{e as Q,k as ct}from"./events.g-TKVM13.js";import{i as X}from"./lifecycle.CEi1SKB7.js";import{p as u,l as Pe}from"./props.CWm5ceOU.js";import{s as ie}from"./Button.svelte_svelte_type_style_lang.D-NrAhYh.js";import{t as ze,q as qe}from"./index.D0AWYtkR.js";import{b as ve}from"./this.k4Anh_d_.js";import{o as Fe}from"./index-client.LAWPVrg1.js";import{B as fe}from"./Button.md0qTQDv.js";import{s as dt}from"./style.PwPRnE0L.js";import{e as ft,i as vt,s as ut}from"./Utils.DMW3rGOr.js";function Be(i,e){var l;var a=(l=i.$$events)==null?void 0:l[e.type],o=at(a)?a.slice():a==null?[]:[a];for(var f of o)f.call(this,e)}function gt(i,e){A(e,!1),Fe(()=>(lt(),nt)),X(),D()}var mt=b('<div class="anchor"><!></div>');function _t(i,e){A(e,!1);let a=k();Fe(()=>{let l=document.getElementById("anchor-container");return l||(l=document.body.appendChild(document.createElement("div")),l.id="anchor-container"),l.appendChild(t(a)),()=>{l.removeChild(t(a))}}),X();var o=mt(),f=R(o);ie(f,e,"default",{},null),N(o),ve(o,l=>h(a,l),()=>t(a)),n(i,o),D()}const ht=i=>i;function pt(i){const e=i-1;return e*e*e+1}function Le(i,{delay:e=0,duration:a=400,easing:o=ht}={}){const f=+getComputedStyle(i).opacity;return{delay:e,duration:a,easing:o,css:l=>`opacity: ${l*f}`}}function Zt(i,{delay:e=0,duration:a=400,easing:o=pt,start:f=0,opacity:l=0}={}){const C=getComputedStyle(i),P=+C.opacity,w=C.transform==="none"?"":C.transform,r=1-f,g=P*(1-l);return{delay:e,duration:a,easing:o,css:(x,v)=>`
			transform: ${w} scale(${1-r*v});
			opacity: ${P-g*v}
		`}}let bt=0;var xt=b('<!>  <div class="bg svelte-l9c7dl"></div>  <div class="outer-container svelte-l9c7dl"><!></div>',1);function yt(i,e){A(e,!1);let a=k(!1),o=u(e,"open",12,!1),f=u(e,"allowClose",8,!0),l=k();function C(w){w.target===t(l)&&history.back()}function P(w){f()&&o(!1)}V(()=>(re(o()),t(a)),()=>{o()&&!t(a)&&history.pushState({},"",new URL(`?overlay-${bt++}`,location.href).href),h(a,o())}),se(),X(),Q("popstate",rt,P),_t(i,{children:(w,r)=>{var g=ae(),x=L(g);{var v=p=>{var z=xt(),E=L(z);gt(E,{});var M=O(E,2),c=O(M,2),Y=R(c);ie(Y,e,"default",{},null),N(c),ve(c,U=>h(l,U),()=>t(l)),ze(3,M,()=>Le,()=>({duration:500,easing:qe})),Q("click",c,C),ze(3,c,()=>Le,()=>({duration:100,easing:qe})),n(p,z)};S(x,p=>{o()&&p(v)})}n(w,g)},$$slots:{default:!0}}),D()}var St=b("<source>"),kt=b("<picture><!> <!></picture>");function wt(i,e){A(e,!1);let a=u(e,"sources",24,()=>({})),o=u(e,"sizes",8,void 0),f=k([]);V(()=>re(a()),()=>{h(f,Object.entries(a()))}),se();var l=ae(),C=L(l);{var P=r=>{var g=kt(),x=R(g);ft(x,1,()=>t(f),vt,(p,z)=>{let E=()=>t(z)[0],M=()=>t(z)[1];var c=St();j(()=>{W(c,"type",`image/${E()??""}`),W(c,"sizes",o()),W(c,"srcset",M())}),n(p,c)});var v=O(x,2);ie(v,e,"default",{},null),N(g),n(r,g)},w=r=>{var g=ae(),x=L(g);ie(x,e,"default",{},null),n(r,g)};S(C,r=>{t(f).length?r(P):r(w,!1)})}n(i,l),D()}function Me(i){return i&&Object.keys(i).length}function je(i){return i[0]==="#"?i:`url(data:image/webp;base64,${i}) no-repeat center/cover`}var It=b("<img>");function Ee(i,e){const a=Pe(e,["children","$$slots","$$events","$$legacy"]),o=Pe(a,["src","sizes","width","height","loading","decoding","ref"]);A(e,!1);let f=u(e,"src",24,()=>({})),l=u(e,"sizes",8,void 0),C=u(e,"width",8,void 0),P=u(e,"height",8,void 0),w=u(e,"loading",8,"lazy"),r=u(e,"decoding",8,"async"),g=u(e,"ref",12,void 0),x=k([]),v=k({}),p=k(void 0);V(()=>re(f()),()=>{h(x,f().sources||{})}),V(()=>re(f()),()=>{h(v,f().img||{})}),V(()=>(t(v),je),()=>{if(Me(t(v))){const{lqip:c}=t(v);h(p,c?je(c):void 0)}}),se(),X();var z=ae(),E=L(z);{var M=c=>{wt(c,{get sources(){return t(x)},get sizes(){return l()},children:(Y,U)=>{var q=It();let $;ve(q,B=>g(B),()=>g()),j(()=>{$=it(q,$,{...o,loading:w(),decoding:r(),width:C()||t(v).w||void 0,height:P()||t(v).h||void 0,src:t(v).src}),dt(q,"background",t(p))}),ct(q),Q("click",q,function(B){Be.call(this,e,B)}),Q("load",q,function(B){Be.call(this,e,B)}),n(Y,q)},$$slots:{default:!0}})};S(E,c=>{Me(t(v))&&c(M)})}n(i,z),D()}var Ot=b('<img alt=" ">'),Ct=b('<img class="img img-lightbox svelte-2f14cl" alt=" ">'),Pt=b(" <br>",1),zt=b(" <br>",1),qt=b(" <br>",1),Bt=b(" <br>",1),Lt=b(" <br> <!> <!> <!> <!> <!>",1),Mt=b('<div class="overlay-exif svelte-2f14cl"><!></div>'),jt=b('<div class="img-lightbox-container svelte-2f14cl"><div class="full-src-link svelte-2f14cl"><!></div> <div class="close-button svelte-2f14cl"><!></div> <!> <!></div>'),Et=b('<div class="img-container svelte-2f14cl"><!></div> <!>',1);function ea(i,e){var ue,ge,me,_e,he,pe,be,xe;A(e,!1);let a=u(e,"src",8),o=u(e,"fullSrc",8,void 0),f=u(e,"maxHeight",8,"450px"),l=u(e,"width",8,void 0),C=u(e,"height",8,void 0),P=u(e,"enableLightbox",8,!0),w=u(e,"square",8,!1),r=u(e,"exif",8,void 0),g=k(!1),x=k(!1);if(typeof a()=="string"){let m=a().split("?")[0].endsWith(".gif"),I=a().split("?")[0].endsWith(".svg");h(g,m||I),h(x,m)}let v=k(o()||a());typeof t(v)=="object"&&h(v,t(v).img.src);let p=k(!1);const z={img:!0,clickable:P(),square:w()},E=((ge=(ue=r())==null?void 0:ue.Software)==null?void 0:ge.description)||"";let M=k(E.length>0);t(M)&&!isNaN(parseInt(E[0]))&&h(M,!1);let c=(_e=(me=r())==null?void 0:me.ISOSpeedRatings)==null?void 0:_e.description;c&&(c="ISO "+c);const U=[(pe=(he=r())==null?void 0:he.FNumber)==null?void 0:pe.description,(xe=(be=r())==null?void 0:be.ShutterSpeedValue)==null?void 0:xe.description,c].filter(m=>m).join(", ");let q=k(!1);V(()=>t(p),()=>{t(p)||h(q,!1)}),se(),X();var $=Et(),B=L($),He=R(B);{var Re=m=>{var I=Ot();j(ye=>{ot(I,st(ye),"svelte-2f14cl"),W(I,"src",a()),W(I,"style",t(x)?"image-rendering: pixelated;":"")},[()=>Ce(z)],de),n(m,I)},Ne=m=>{const I=de(()=>Ce(z));Ee(m,{get class(){return t(I)},get src(){return a()},alt:" "})};S(He,m=>{t(g)?m(Re):m(Ne,!1)})}N(B);var We=O(B,2);{var Ge=m=>{yt(m,{get open(){return t(p)},set open(I){h(p,I)},children:(I,ye)=>{var le=jt(),ne=R(le),Te=R(ne);fe(Te,{get onClick(){return t(v)},children:(y,F)=>{G();var J=te("🔗 Open Full Image");n(y,J)},$$slots:{default:!0}}),N(ne);var oe=O(ne,2),Ve=R(oe);fe(Ve,{onClick:()=>h(p,!1),children:(y,F)=>{G();var J=te("❌");n(y,J)},$$slots:{default:!0}}),N(oe);var Se=O(oe,2);{var Ae=y=>{var F=Ct();j(()=>{W(F,"src",a()),W(F,"style",t(x)?"image-rendering: pixelated;":"")}),n(y,F)},De=y=>{Ee(y,{class:"img img-lightbox",get src(){return a()},alt:" "})};S(Se,y=>{t(g)?y(Ae):y(De,!1)})}var Ue=O(Se,2);{var $e=y=>{var F=Mt(),J=R(F);{var Je=T=>{var Z=Lt(),ce=L(Z),ee=O(ce,3);{var Qe=d=>{var s=Pt(),_=L(s);G(),j(()=>{var H,Oe;return K(_,`📷 ${((H=r().Make)==null?void 0:H.description)??""} ${((Oe=r().Model)==null?void 0:Oe.description)??""}`)}),n(d,s)};S(ee,d=>{var s,_;((s=r().Make)!=null&&s.description||(_=r().Model)!=null&&_.description)&&d(Qe)})}var ke=O(ee,2);{var Xe=d=>{var s=zt(),_=L(s);G(),j(()=>{var H;return K(_,`🔎 ${((H=r().Lens)==null?void 0:H.description)??""}`)}),n(d,s)};S(ke,d=>{var s;(s=r().Lens)!=null&&s.description&&d(Xe)})}var we=O(ke,2);{var Ye=d=>{var s=qt(),_=L(s);_.nodeValue=`⚙️ ${U??""}`,G(),n(d,s)};S(we,d=>{U&&d(Ye)})}var Ie=O(we,2);{var Ze=d=>{var s=Bt(),_=L(s);G(),j(()=>{var H;return K(_,`⚡ ${((H=r().Flash)==null?void 0:H.description)??""}`)}),n(d,s)};S(Ie,d=>{var s;(s=r().Flash)!=null&&s.description&&d(Ze)})}var et=O(Ie,2);{var tt=d=>{var s=te();j(()=>{var _;return K(s,`🖌️ Edited with ${((_=r().Software)==null?void 0:_.description)??""}`)}),n(d,s)};S(et,d=>{t(M)&&d(tt)})}j(()=>{var d,s,_;return K(ce,`🖵 (Original: ${((d=r()["Image Height"])==null?void 0:d.value)??""}x${((s=r()["Image Width"])==null?void 0:s.value)??""} ${((_=r()["Bits Per Sample"])==null?void 0:_.value)??""}bpp)`)}),n(T,Z)},Ke=T=>{fe(T,{onClick:()=>h(q,!0),children:(Z,ce)=>{G();var ee=te("ℹ️");n(Z,ee)},$$slots:{default:!0}})};S(J,T=>{t(q)?T(Je):T(Ke,!1)})}N(F),n(y,F)};S(Ue,y=>{r()&&y($e)})}N(le),n(I,le)},$$slots:{default:!0},$$legacy:!0})};S(We,m=>{P()&&m(Ge)})}j(m=>W(B,"style",m),[()=>ut({"--img-max-height":f(),"--img-width":l(),"--img-height":C()})],de),Q("click",B,()=>{h(p,!0)}),n(i,$),D()}export{ea as I,Ee as S,Le as f,Zt as s};
