import{E as q,aK as L,aL as $,K,M as z,aM as P,B as x,am as U,N as j,R as T,aN as y,aO as D,aD as I,aC as S,aJ as G}from"./runtime.Cr_z8AVH.js";import{a as J}from"./render.DmupAmcU.js";import{c as W}from"./each.DuwWJsYO.js";import{w as H}from"./events.DAjfSs4m.js";const Q=()=>performance.now(),m={tick:i=>requestAnimationFrame(i),now:()=>Q(),tasks:new Set};function M(){const i=m.now();m.tasks.forEach(t=>{t.c(i)||(m.tasks.delete(t),t.f())}),m.tasks.size!==0&&m.tick(M)}function V(i){let t;return m.tasks.size===0&&m.tick(M),{promise:new Promise(r=>{m.tasks.add(t={c:i,f:r})}),abort(){m.tasks.delete(t)}}}function E(i,t){H(()=>{i.dispatchEvent(new CustomEvent(t))})}function X(i){if(i==="float")return"cssFloat";if(i==="offset")return"cssOffset";if(i.startsWith("--"))return i;const t=i.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function B(i){const t={},r=i.split(";");for(const e of r){const[a,f]=e.split(":");if(!a||f===void 0)break;const n=X(a.trim());t[n]=f.trim()}return t}const Y=i=>i;function at(i,t,r){var e=W,a,f,n,h=null;e.a??(e.a={element:i,measure(){a=this.element.getBoundingClientRect()},apply(){if(n==null||n.abort(),f=this.element.getBoundingClientRect(),a.left!==f.left||a.right!==f.right||a.top!==f.top||a.bottom!==f.bottom){const d=t()(this.element,{from:a,to:f},r==null?void 0:r());n=O(this.element,d,void 0,1,()=>{n==null||n.abort(),n=void 0})}},fix(){if(!i.getAnimations().length){var{position:d,width:p,height:u}=getComputedStyle(i);if(d!=="absolute"&&d!=="fixed"){var v=i.style;h={position:v.position,width:v.width,height:v.height,transform:v.transform},v.position="absolute",v.width=p,v.height=u;var s=i.getBoundingClientRect();if(a.left!==s.left||a.top!==s.top){var o=`translate(${a.left-s.left}px, ${a.top-s.top}px)`;v.transform=v.transform?`${v.transform} ${o}`:o}}}},unfix(){if(h){var d=i.style;d.position=h.position,d.width=h.width,d.height=h.height,d.transform=h.transform}}}),e.a.element=i}function et(i,t,r,e){var a=(i&P)!==0,f=(i&y)!==0,n=a&&f,h=(i&D)!==0,d=n?"both":a?"in":"out",p,u=t.inert,v=t.style.overflow,s,o;function b(){var c=G,N=x;I(null),S(null);try{return p??(p=r()(t,(e==null?void 0:e())??{},{direction:d}))}finally{I(c),S(N)}}var _={is_global:h,in(){var c;if(t.inert=u,!a){o==null||o.abort(),(c=o==null?void 0:o.reset)==null||c.call(o);return}f||s==null||s.abort(),E(t,"introstart"),s=O(t,b(),o,1,()=>{E(t,"introend"),s==null||s.abort(),s=p=void 0,t.style.overflow=v})},out(c){if(!f){c==null||c(),p=void 0;return}t.inert=!0,E(t,"outrostart"),o=O(t,b(),s,0,()=>{E(t,"outroend"),c==null||c()})},stop:()=>{s==null||s.abort(),o==null||o.abort()}},w=x;if((w.transitions??(w.transitions=[])).push(_),a&&J){var g=h;if(!g){for(var l=w.parent;l&&l.f&q;)for(;(l=l.parent)&&!(l.f&L););g=!l||(l.f&$)!==0}g&&K(()=>{z(()=>_.in())})}}function O(i,t,r,e,a){var f=e===1;if(U(t)){var n,h=!1;return j(()=>{if(!h){var w=t({direction:f?"in":"out"});n=O(i,w,r,e,a)}}),{abort:()=>{h=!0,n==null||n.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return a(),{abort:T,deactivate:T,reset:T,t:()=>e};const{delay:d=0,css:p,tick:u,easing:v=Y}=t;var s=[];if(f&&r===void 0&&(u&&u(0,1),p)){var o=B(p(0,1));s.push(o,o)}var b=()=>1-e,_=i.animate(s,{duration:d});return _.onfinish=()=>{var w=(r==null?void 0:r.t())??1-e;r==null||r.abort();var g=e-w,l=t.duration*Math.abs(g),c=[];if(l>0){var N=!1;if(p)for(var k=Math.ceil(l/16.666666666666668),R=0;R<=k;R+=1){var A=w+g*v(R/k),F=B(p(A,1-A));c.push(F),N||(N=F.overflow==="hidden")}N&&(i.style.overflow="hidden"),b=()=>{var C=_.currentTime;return w+g*v(C/l)},u&&V(()=>{if(_.playState!=="running")return!1;var C=b();return u(C,1-C),!0})}_=i.animate(c,{duration:l,fill:"forwards"}),_.onfinish=()=>{b=()=>e,u==null||u(e,1-e),a()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=T)},deactivate:()=>{a=T},reset:()=>{e===0&&(u==null||u(1,0))},t:()=>b()}}function nt(i){const t=i-1;return t*t*t+1}function st(i){return Math.pow(i-1,3)*(1-i)+1}export{at as a,nt as c,st as q,et as t};
