const ue=Symbol.for("yaml.alias"),Ie=Symbol.for("yaml.document"),T=Symbol.for("yaml.map"),$e=Symbol.for("yaml.pair"),de=Symbol.for("yaml.scalar"),z=Symbol.for("yaml.seq"),C=Symbol.for("yaml.node.type"),V=n=>!!n&&typeof n=="object"&&n[C]===ue,ne=n=>!!n&&typeof n=="object"&&n[C]===Ie,Ee=n=>!!n&&typeof n=="object"&&n[C]===T,N=n=>!!n&&typeof n=="object"&&n[C]===$e,E=n=>!!n&&typeof n=="object"&&n[C]===de,he=n=>!!n&&typeof n=="object"&&n[C]===z;function L(n){if(n&&typeof n=="object")switch(n[C]){case T:case z:return!0}return!1}function A(n){if(n&&typeof n=="object")switch(n[C]){case ue:case T:case de:case z:return!0}return!1}const De=n=>(E(n)||L(n))&&!!n.anchor,I=Symbol("break visit"),Te=Symbol("skip children"),U=Symbol("remove node");function W(n,t){const e=Je(t);ne(n)?_(null,n.contents,e,Object.freeze([n]))===U&&(n.contents=null):_(null,n,e,Object.freeze([]))}W.BREAK=I;W.SKIP=Te;W.REMOVE=U;function _(n,t,e,s){const r=_e(n,t,e,s);if(A(r)||N(r))return Fe(n,s,r),_(n,r,e,s);if(typeof r!="symbol"){if(L(t)){s=Object.freeze(s.concat(t));for(let i=0;i<t.items.length;++i){const o=_(i,t.items[i],e,s);if(typeof o=="number")i=o-1;else{if(o===I)return I;o===U&&(t.items.splice(i,1),i-=1)}}}else if(N(t)){s=Object.freeze(s.concat(t));const i=_("key",t.key,e,s);if(i===I)return I;i===U&&(t.key=null);const o=_("value",t.value,e,s);if(o===I)return I;o===U&&(t.value=null)}}return r}function Je(n){return typeof n=="object"&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function _e(n,t,e,s){var r,i,o,l,f;if(typeof e=="function")return e(n,t,s);if(Ee(t))return(r=e.Map)==null?void 0:r.call(e,n,t,s);if(he(t))return(i=e.Seq)==null?void 0:i.call(e,n,t,s);if(N(t))return(o=e.Pair)==null?void 0:o.call(e,n,t,s);if(E(t))return(l=e.Scalar)==null?void 0:l.call(e,n,t,s);if(V(t))return(f=e.Alias)==null?void 0:f.call(e,n,t,s)}function Fe(n,t,e){const s=t[t.length-1];if(L(s))s.items[n]=e;else if(N(s))n==="key"?s.key=e:s.value=e;else if(ne(s))s.contents=e;else{const r=V(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}function Ne(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){const e=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(e)}return!0}function R(n,t,e,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let r=0,i=s.length;r<i;++r){const o=s[r],l=R(n,s,String(r),o);l===void 0?delete s[r]:l!==o&&(s[r]=l)}else if(s instanceof Map)for(const r of Array.from(s.keys())){const i=s.get(r),o=R(n,s,r,i);o===void 0?s.delete(r):o!==i&&s.set(r,o)}else if(s instanceof Set)for(const r of Array.from(s)){const i=R(n,s,r,r);i===void 0?s.delete(r):i!==r&&(s.delete(r),s.add(i))}else for(const[r,i]of Object.entries(s)){const o=R(n,s,r,i);o===void 0?delete s[r]:o!==i&&(s[r]=o)}return n.call(t,e,s)}function k(n,t,e){if(Array.isArray(n))return n.map((s,r)=>k(s,String(r),e));if(n&&typeof n.toJSON=="function"){if(!e||!De(n))return n.toJSON(t,e);const s={aliasCount:0,count:1,res:void 0};e.anchors.set(n,s),e.onCreate=i=>{s.res=i,delete e.onCreate};const r=n.toJSON(t,e);return e.onCreate&&e.onCreate(r),r}return typeof n=="bigint"&&!(e!=null&&e.keep)?Number(n):n}class ge{constructor(t){Object.defineProperty(this,C,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:e,maxAliasCount:s,onAnchor:r,reviver:i}={}){if(!ne(t))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:t,keep:!0,mapAsMap:e===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},l=k(this,"",o);if(typeof r=="function")for(const{count:f,res:c}of o.anchors.values())r(c,f);return typeof i=="function"?R(i,{"":l},"",l):l}}class Ke extends ge{constructor(t){super(ue),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let e;return W(t,{Node:(s,r)=>{if(r===this)return W.BREAK;r.anchor===this.source&&(e=r)}}),e}toJSON(t,e){if(!e)return{source:this.source};const{anchors:s,doc:r,maxAliasCount:i}=e,o=this.resolve(r);if(!o){const f=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(f)}let l=s.get(o);if(l||(k(o,null,e),l=s.get(o)),!l||l.res===void 0){const f="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(f)}if(i>=0&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=X(r,o,s)),l.count*l.aliasCount>i)){const f="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(f)}return l.res}toString(t,e,s){const r=`*${this.source}`;if(t){if(Ne(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(t.implicitKey)return`${r} `}return r}}function X(n,t,e){if(V(t)){const s=t.resolve(n),r=e&&s&&e.get(s);return r?r.count*r.aliasCount:0}else if(L(t)){let s=0;for(const r of t.items){const i=X(n,r,e);i>s&&(s=i)}return s}else if(N(t)){const s=X(n,t.key,e),r=X(n,t.value,e);return Math.max(s,r)}return 1}const Ae=n=>!n||typeof n!="function"&&typeof n!="object";class S extends ge{constructor(t){super(de),this.value=t}toJSON(t,e){return e!=null&&e.keep?this.value:k(this.value,t,e)}toString(){return String(this.value)}}S.BLOCK_FOLDED="BLOCK_FOLDED";S.BLOCK_LITERAL="BLOCK_LITERAL";S.PLAIN="PLAIN";S.QUOTE_DOUBLE="QUOTE_DOUBLE";S.QUOTE_SINGLE="QUOTE_SINGLE";function Ve(n,t,e){return e.find(s=>{var r;return((r=s.identify)==null?void 0:r.call(s,n))&&!s.format})}function x(n,t,e){var h,g,d;if(ne(n)&&(n=n.contents),A(n))return n;if(N(n)){const p=(g=(h=e.schema[T]).createNode)==null?void 0:g.call(h,e.schema,null,e);return p.items.push(n),p}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());const{aliasDuplicateObjects:s,onAnchor:r,onTagObj:i,schema:o,sourceObjects:l}=e;let f;if(s&&n&&typeof n=="object"){if(f=l.get(n),f)return f.anchor||(f.anchor=r(n)),new Ke(f.anchor);f={anchor:null,node:null},l.set(n,f)}let c=Ve(n,t,o.tags);if(!c){if(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),!n||typeof n!="object"){const p=new S(n);return f&&(f.node=p),p}c=n instanceof Map?o[T]:Symbol.iterator in Object(n)?o[z]:o[T]}i&&(i(c),delete e.onTagObj);const m=c!=null&&c.createNode?c.createNode(e.schema,n,e):typeof((d=c==null?void 0:c.nodeClass)==null?void 0:d.from)=="function"?c.nodeClass.from(e.schema,n,e):new S(n);return c.default||(m.tag=c.tag),f&&(f.node=m),m}function Se(n,t,e){let s=e;for(let r=t.length-1;r>=0;--r){const i=t[r];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=s,s=o}else s=new Map([[i,s]])}return x(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}const Qe=n=>n==null||typeof n=="object"&&!!n[Symbol.iterator]().next().done;class Le extends ge{constructor(t,e){super(t),Object.defineProperty(this,"schema",{value:e,configurable:!0,enumerable:!1,writable:!0})}clone(t){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(e.schema=t),e.items=e.items.map(s=>A(s)||N(s)?s.clone(t):s),this.range&&(e.range=this.range.slice()),e}addIn(t,e){if(Qe(t))this.add(e);else{const[s,...r]=t,i=this.get(s,!0);if(L(i))i.addIn(r,e);else if(i===void 0&&this.schema)this.set(s,Se(this.schema,r,e));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}deleteIn(t){const[e,...s]=t;if(s.length===0)return this.delete(e);const r=this.get(e,!0);if(L(r))return r.deleteIn(s);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${s}`)}getIn(t,e){const[s,...r]=t,i=this.get(s,!0);return r.length===0?!e&&E(i)?i.value:i:L(i)?i.getIn(r,e):void 0}hasAllNullValues(t){return this.items.every(e=>{if(!N(e))return!1;const s=e.value;return s==null||t&&E(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(t){const[e,...s]=t;if(s.length===0)return this.has(e);const r=this.get(e,!0);return L(r)?r.hasIn(s):!1}setIn(t,e){const[s,...r]=t;if(r.length===0)this.set(s,e);else{const i=this.get(s,!0);if(L(i))i.setIn(r,e);else if(i===void 0&&this.schema)this.set(s,Se(this.schema,r,e));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}}const Re=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function Y(n,t){return/^\n+$/.test(n)?n.substring(1):t?n.replace(/^(?! *$)/gm,t):n}const F=(n,t,e)=>n.endsWith(`
`)?Y(e,t):e.includes(`
`)?`
`+Y(e,t):(n.endsWith(" ")?"":" ")+e,je="flow",le="block",Z="quoted";function se(n,t,e="flow",{indentAtStart:s,lineWidth:r=80,minContentWidth:i=20,onFold:o,onOverflow:l}={}){if(!r||r<0)return n;r<i&&(i=0);const f=Math.max(1+i,1+r-t.length);if(n.length<=f)return n;const c=[],m={};let h=r-t.length;typeof s=="number"&&(s>r-Math.max(2,i)?c.push(0):h=r-s);let g,d,p=!1,a=-1,u=-1,O=-1;e===le&&(a=Oe(n,a,t.length),a!==-1&&(h=a+f));for(let b;b=n[a+=1];){if(e===Z&&b==="\\"){switch(u=a,n[a+1]){case"x":a+=3;break;case"u":a+=5;break;case"U":a+=9;break;default:a+=1}O=a}if(b===`
`)e===le&&(a=Oe(n,a,t.length)),h=a+t.length+f,g=void 0;else{if(b===" "&&d&&d!==" "&&d!==`
`&&d!=="	"){const w=n[a+1];w&&w!==" "&&w!==`
`&&w!=="	"&&(g=a)}if(a>=h)if(g)c.push(g),h=g+f,g=void 0;else if(e===Z){for(;d===" "||d==="	";)d=b,b=n[a+=1],p=!0;const w=a>O+1?a-2:u-1;if(m[w])return n;c.push(w),m[w]=!0,h=w+f,g=void 0}else p=!0}d=b}if(p&&l&&l(),c.length===0)return n;o&&o();let y=n.slice(0,c[0]);for(let b=0;b<c.length;++b){const w=c[b],$=c[b+1]||n.length;w===0?y=`
${t}${n.slice(0,$)}`:(e===Z&&m[w]&&(y+=`${n[w]}\\`),y+=`
${t}${n.slice(w+1,$)}`)}return y}function Oe(n,t,e){let s=t,r=t+1,i=n[r];for(;i===" "||i==="	";)if(t<r+e)i=n[++t];else{do i=n[++t];while(i&&i!==`
`);s=t,r=t+1,i=n[r]}return s}const re=(n,t)=>({indentAtStart:t?n.indent.length:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),ie=n=>/^(%|---|\.\.\.)/m.test(n);function Ue(n,t,e){if(!t||t<0)return!1;const s=t-e,r=n.length;if(r<=s)return!1;for(let i=0,o=0;i<r;++i)if(n[i]===`
`){if(i-o>s)return!0;if(o=i+1,r-o<=s)return!1}return!0}function q(n,t){const e=JSON.stringify(n);if(t.options.doubleQuotedAsJSON)return e;const{implicitKey:s}=t,r=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(ie(n)?"  ":"");let o="",l=0;for(let f=0,c=e[f];c;c=e[++f])if(c===" "&&e[f+1]==="\\"&&e[f+2]==="n"&&(o+=e.slice(l,f)+"\\ ",f+=1,l=f,c="\\"),c==="\\")switch(e[f+1]){case"u":{o+=e.slice(l,f);const m=e.substr(f+2,4);switch(m){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:m.substr(0,2)==="00"?o+="\\x"+m.substr(2):o+=e.substr(f,6)}f+=5,l=f+1}break;case"n":if(s||e[f+2]==='"'||e.length<r)f+=1;else{for(o+=e.slice(l,f)+`

`;e[f+2]==="\\"&&e[f+3]==="n"&&e[f+4]!=='"';)o+=`
`,f+=2;o+=i,e[f+2]===" "&&(o+="\\"),f+=1,l=f+1}break;default:f+=1}return o=l?o+e.slice(l):e,s?o:se(o,i,Z,re(t,!1))}function ce(n,t){if(t.options.singleQuote===!1||t.implicitKey&&n.includes(`
`)||/[ \t]\n|\n[ \t]/.test(n))return q(n,t);const e=t.indent||(ie(n)?"  ":""),s="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&
${e}`)+"'";return t.implicitKey?s:se(s,e,je,re(t,!1))}function K(n,t){const{singleQuote:e}=t.options;let s;if(e===!1)s=q;else{const r=n.includes('"'),i=n.includes("'");r&&!i?s=ce:i&&!r?s=q:s=e?ce:q}return s(n,t)}let ae;try{ae=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{ae=/\n+(?!\n|$)/g}function v({comment:n,type:t,value:e},s,r,i){const{blockQuote:o,commentString:l,lineWidth:f}=s.options;if(!o||/\n[\t ]+$/.test(e)||/^\s*$/.test(e))return K(e,s);const c=s.indent||(s.forceBlockIndent||ie(e)?"  ":""),m=o==="literal"?!0:o==="folded"||t===S.BLOCK_FOLDED?!1:t===S.BLOCK_LITERAL?!0:!Ue(e,f,c.length);if(!e)return m?`|
`:`>
`;let h,g;for(g=e.length;g>0;--g){const $=e[g-1];if($!==`
`&&$!=="	"&&$!==" ")break}let d=e.substring(g);const p=d.indexOf(`
`);p===-1?h="-":e===d||p!==d.length-1?(h="+",i&&i()):h="",d&&(e=e.slice(0,-d.length),d[d.length-1]===`
`&&(d=d.slice(0,-1)),d=d.replace(ae,`$&${c}`));let a=!1,u,O=-1;for(u=0;u<e.length;++u){const $=e[u];if($===" ")a=!0;else if($===`
`)O=u;else break}let y=e.substring(0,O<u?O+1:u);y&&(e=e.substring(y.length),y=y.replace(/\n+/g,`$&${c}`));let w=(a?c?"2":"1":"")+h;if(n&&(w+=" "+l(n.replace(/ ?[\r\n]+/g," ")),r&&r()),!m){const $=e.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let j=!1;const M=re(s,!0);o!=="folded"&&t!==S.BLOCK_FOLDED&&(M.onOverflow=()=>{j=!0});const Q=se(`${y}${$}${d}`,c,le,M);if(!j)return`>${w}
${c}${Q}`}return e=e.replace(/\n+/g,`$&${c}`),`|${w}
${c}${y}${e}${d}`}function qe(n,t,e,s){const{type:r,value:i}=n,{actualString:o,implicitKey:l,indent:f,indentStep:c,inFlow:m}=t;if(l&&i.includes(`
`)||m&&/[[\]{},]/.test(i))return K(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return l||m||!i.includes(`
`)?K(i,t):v(n,t,e,s);if(!l&&!m&&r!==S.PLAIN&&i.includes(`
`))return v(n,t,e,s);if(ie(i)){if(f==="")return t.forceBlockIndent=!0,v(n,t,e,s);if(l&&f===c)return K(i,t)}const h=i.replace(/\n+/g,`$&
${f}`);if(o){const g=a=>{var u;return a.default&&a.tag!=="tag:yaml.org,2002:str"&&((u=a.test)==null?void 0:u.test(h))},{compat:d,tags:p}=t.doc.schema;if(p.some(g)||d!=null&&d.some(g))return K(i,t)}return l?h:se(h,f,je,re(t,!1))}function We(n,t,e,s){const{implicitKey:r,inFlow:i}=t,o=typeof n.value=="string"?n:Object.assign({},n,{value:String(n.value)});let{type:l}=n;l!==S.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(l=S.QUOTE_DOUBLE);const f=m=>{switch(m){case S.BLOCK_FOLDED:case S.BLOCK_LITERAL:return r||i?K(o.value,t):v(o,t,e,s);case S.QUOTE_DOUBLE:return q(o.value,t);case S.QUOTE_SINGLE:return ce(o.value,t);case S.PLAIN:return qe(o,t,e,s);default:return null}};let c=f(l);if(c===null){const{defaultKeyType:m,defaultStringType:h}=t.options,g=r&&m||h;if(c=f(g),c===null)throw new Error(`Unsupported default string type ${g}`)}return c}function Ye(n,t){const e=Object.assign({blockQuote:!0,commentString:Re,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,t);let s;switch(e.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:n,flowCollectionPadding:e.flowCollectionPadding?" ":"",indent:"",indentStep:typeof e.indent=="number"?" ".repeat(e.indent):"  ",inFlow:s,options:e}}function ze(n,t){var r;if(t.tag){const i=n.filter(o=>o.tag===t.tag);if(i.length>0)return i.find(o=>o.format===t.format)??i[0]}let e,s;if(E(t)){s=t.value;let i=n.filter(o=>{var l;return(l=o.identify)==null?void 0:l.call(o,s)});if(i.length>1){const o=i.filter(l=>l.test);o.length>0&&(i=o)}e=i.find(o=>o.format===t.format)??i.find(o=>!o.format)}else s=t,e=n.find(i=>i.nodeClass&&s instanceof i.nodeClass);if(!e){const i=((r=s==null?void 0:s.constructor)==null?void 0:r.name)??typeof s;throw new Error(`Tag not resolved for ${i} value`)}return e}function Ge(n,t,{anchors:e,doc:s}){if(!s.directives)return"";const r=[],i=(E(n)||L(n))&&n.anchor;i&&Ne(i)&&(e.add(i),r.push(`&${i}`));const o=n.tag?n.tag:t.default?null:t.tag;return o&&r.push(s.directives.tagString(o)),r.join(" ")}function ee(n,t,e,s){var f;if(N(n))return n.toString(t,e,s);if(V(n)){if(t.doc.directives)return n.toString(t);if((f=t.resolvedAliases)!=null&&f.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(n):t.resolvedAliases=new Set([n]),n=n.resolve(t.doc)}let r;const i=A(n)?n:t.doc.createNode(n,{onTagObj:c=>r=c});r||(r=ze(t.doc.schema.tags,i));const o=Ge(i,r,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const l=typeof r.stringify=="function"?r.stringify(i,t,e,s):E(i)?We(i,t,e,s):i.toString(t,e,s);return o?E(i)||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${t.indent}${l}`:l}function He({key:n,value:t},e,s,r){const{allNullValues:i,doc:o,indent:l,indentStep:f,options:{commentString:c,indentSeq:m,simpleKeys:h}}=e;let g=A(n)&&n.comment||null;if(h){if(g)throw new Error("With simple keys, key nodes cannot have comments");if(L(n)||!A(n)&&typeof n=="object"){const M="With simple keys, collection cannot be used as a key value";throw new Error(M)}}let d=!h&&(!n||g&&t==null&&!e.inFlow||L(n)||(E(n)?n.type===S.BLOCK_FOLDED||n.type===S.BLOCK_LITERAL:typeof n=="object"));e=Object.assign({},e,{allNullValues:!1,implicitKey:!d&&(h||!i),indent:l+f});let p=!1,a=!1,u=ee(n,e,()=>p=!0,()=>a=!0);if(!d&&!e.inFlow&&u.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(e.inFlow){if(i||t==null)return p&&s&&s(),u===""?"?":d?`? ${u}`:u}else if(i&&!h||t==null&&d)return u=`? ${u}`,g&&!p?u+=F(u,e.indent,c(g)):a&&r&&r(),u;p&&(g=null),d?(g&&(u+=F(u,e.indent,c(g))),u=`? ${u}
${l}:`):(u=`${u}:`,g&&(u+=F(u,e.indent,c(g))));let O,y,b;A(t)?(O=!!t.spaceBefore,y=t.commentBefore,b=t.comment):(O=!1,y=null,b=null,t&&typeof t=="object"&&(t=o.createNode(t))),e.implicitKey=!1,!d&&!g&&E(t)&&(e.indentAtStart=u.length+1),a=!1,!m&&f.length>=2&&!e.inFlow&&!d&&he(t)&&!t.flow&&!t.tag&&!t.anchor&&(e.indent=e.indent.substring(2));let w=!1;const $=ee(t,e,()=>w=!0,()=>a=!0);let j=" ";if(g||O||y){if(j=O?`
`:"",y){const M=c(y);j+=`
${Y(M,e.indent)}`}$===""&&!e.inFlow?j===`
`&&(j=`

`):j+=`
${e.indent}`}else if(!d&&L(t)){const M=$[0],Q=$.indexOf(`
`),be=Q!==-1,Be=e.inFlow??t.flow??t.items.length===0;if(be||!Be){let we=!1;if(be&&(M==="&"||M==="!")){let B=$.indexOf(" ");M==="&"&&B!==-1&&B<Q&&$[B+1]==="!"&&(B=$.indexOf(" ",B+1)),(B===-1||Q<B)&&(we=!0)}we||(j=`
${e.indent}`)}}else($===""||$[0]===`
`)&&(j="");return u+=j+$,e.inFlow?w&&s&&s():b&&!w?u+=F(u,e.indent,c(b)):a&&r&&r(),u}function Xe(n,t){(n==="debug"||n==="warn")&&console.warn(t)}const G="<<",oe={identify:n=>n===G||typeof n=="symbol"&&n.description===G,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new S(Symbol(G)),{addToJSMap:ke}),stringify:()=>G},Ze=(n,t)=>(oe.identify(t)||E(t)&&(!t.type||t.type===S.PLAIN)&&oe.identify(t.value))&&(n==null?void 0:n.doc.schema.tags.some(e=>e.tag===oe.tag&&e.default));function ke(n,t,e){if(e=n&&V(e)?e.resolve(n.doc):e,he(e))for(const s of e.items)fe(n,t,s);else if(Array.isArray(e))for(const s of e)fe(n,t,s);else fe(n,t,e)}function fe(n,t,e){const s=n&&V(e)?e.resolve(n.doc):e;if(!Ee(s))throw new Error("Merge sources must be maps or map aliases");const r=s.toJSON(null,n,Map);for(const[i,o]of r)t instanceof Map?t.has(i)||t.set(i,o):t instanceof Set?t.add(i):Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function Me(n,t,{key:e,value:s}){if(A(e)&&e.addToJSMap)e.addToJSMap(n,t,s);else if(Ze(n,e))ke(n,t,s);else{const r=k(e,"",n);if(t instanceof Map)t.set(r,k(s,r,n));else if(t instanceof Set)t.add(r);else{const i=ve(e,r,n),o=k(s,i,n);i in t?Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[i]=o}}return t}function ve(n,t,e){if(t===null)return"";if(typeof t!="object")return String(t);if(A(n)&&(e!=null&&e.doc)){const s=Ye(e.doc,{});s.anchors=new Set;for(const i of e.anchors.keys())s.anchors.add(i.anchor);s.inFlow=!0,s.inStringifyKey=!0;const r=n.toString(s);if(!e.mapKeyWarned){let i=JSON.stringify(r);i.length>40&&(i=i.substring(0,36)+'..."'),Xe(e.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),e.mapKeyWarned=!0}return r}return JSON.stringify(t)}function pe(n,t,e){const s=x(n,void 0,e),r=x(t,void 0,e);return new P(s,r)}class P{constructor(t,e=null){Object.defineProperty(this,C,{value:$e}),this.key=t,this.value=e}clone(t){let{key:e,value:s}=this;return A(e)&&(e=e.clone(t)),A(s)&&(s=s.clone(t)),new P(e,s)}toJSON(t,e){const s=e!=null&&e.mapAsMap?new Map:{};return Me(e,s,this)}toString(t,e,s){return t!=null&&t.doc?He(this,t,e,s):JSON.stringify(this)}}function Ce(n,t,e){return(t.inFlow??n.flow?et:xe)(n,t,e)}function xe({comment:n,items:t},e,{blockItemPrefix:s,flowChars:r,itemIndent:i,onChompKeep:o,onComment:l}){const{indent:f,options:{commentString:c}}=e,m=Object.assign({},e,{indent:i,type:null});let h=!1;const g=[];for(let p=0;p<t.length;++p){const a=t[p];let u=null;if(A(a))!h&&a.spaceBefore&&g.push(""),te(e,g,a.commentBefore,h),a.comment&&(u=a.comment);else if(N(a)){const y=A(a.key)?a.key:null;y&&(!h&&y.spaceBefore&&g.push(""),te(e,g,y.commentBefore,h))}h=!1;let O=ee(a,m,()=>u=null,()=>h=!0);u&&(O+=F(O,i,c(u))),h&&u&&(h=!1),g.push(s+O)}let d;if(g.length===0)d=r.start+r.end;else{d=g[0];for(let p=1;p<g.length;++p){const a=g[p];d+=a?`
${f}${a}`:`
`}}return n?(d+=`
`+Y(c(n),f),l&&l()):h&&o&&o(),d}function et({items:n},t,{flowChars:e,itemIndent:s}){const{indent:r,indentStep:i,flowCollectionPadding:o,options:{commentString:l}}=t;s+=i;const f=Object.assign({},t,{indent:s,inFlow:!0,type:null});let c=!1,m=0;const h=[];for(let p=0;p<n.length;++p){const a=n[p];let u=null;if(A(a))a.spaceBefore&&h.push(""),te(t,h,a.commentBefore,!1),a.comment&&(u=a.comment);else if(N(a)){const y=A(a.key)?a.key:null;y&&(y.spaceBefore&&h.push(""),te(t,h,y.commentBefore,!1),y.comment&&(c=!0));const b=A(a.value)?a.value:null;b?(b.comment&&(u=b.comment),b.commentBefore&&(c=!0)):a.value==null&&(y!=null&&y.comment)&&(u=y.comment)}u&&(c=!0);let O=ee(a,f,()=>u=null);p<n.length-1&&(O+=","),u&&(O+=F(O,s,l(u))),!c&&(h.length>m||O.includes(`
`))&&(c=!0),h.push(O),m=h.length}const{start:g,end:d}=e;if(h.length===0)return g+d;if(!c){const p=h.reduce((a,u)=>a+u.length+2,2);c=t.options.lineWidth>0&&p>t.options.lineWidth}if(c){let p=g;for(const a of h)p+=a?`
${i}${r}${a}`:`
`;return`${p}
${r}${d}`}else return`${g}${o}${h.join(" ")}${o}${d}`}function te({indent:n,options:{commentString:t}},e,s,r){if(s&&r&&(s=s.replace(/^\n+/,"")),s){const i=Y(t(s),n);e.push(i.trimStart())}}function D(n,t){const e=E(t)?t.value:t;for(const s of n)if(N(s)&&(s.key===t||s.key===e||E(s.key)&&s.key.value===e))return s}class J extends Le{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(T,t),this.items=[]}static from(t,e,s){const{keepUndefined:r,replacer:i}=s,o=new this(t),l=(f,c)=>{if(typeof i=="function")c=i.call(e,f,c);else if(Array.isArray(i)&&!i.includes(f))return;(c!==void 0||r)&&o.items.push(pe(f,c,s))};if(e instanceof Map)for(const[f,c]of e)l(f,c);else if(e&&typeof e=="object")for(const f of Object.keys(e))l(f,e[f]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,e){var o;let s;N(t)?s=t:!t||typeof t!="object"||!("key"in t)?s=new P(t,t==null?void 0:t.value):s=new P(t.key,t.value);const r=D(this.items,s.key),i=(o=this.schema)==null?void 0:o.sortMapEntries;if(r){if(!e)throw new Error(`Key ${s.key} already set`);E(r.value)&&Ae(s.value)?r.value.value=s.value:r.value=s.value}else if(i){const l=this.items.findIndex(f=>i(s,f)<0);l===-1?this.items.push(s):this.items.splice(l,0,s)}else this.items.push(s)}delete(t){const e=D(this.items,t);return e?this.items.splice(this.items.indexOf(e),1).length>0:!1}get(t,e){const s=D(this.items,t),r=s==null?void 0:s.value;return(!e&&E(r)?r.value:r)??void 0}has(t){return!!D(this.items,t)}set(t,e){this.add(new P(t,e),!0)}toJSON(t,e,s){const r=s?new s:e!=null&&e.mapAsMap?new Map:{};e!=null&&e.onCreate&&e.onCreate(r);for(const i of this.items)Me(e,r,i);return r}toString(t,e,s){if(!t)return JSON.stringify(this);for(const r of this.items)if(!N(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),Ce(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:s,onComment:e})}}class Pe extends Le{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(z,t),this.items=[]}add(t){this.items.push(t)}delete(t){const e=H(t);return typeof e!="number"?!1:this.items.splice(e,1).length>0}get(t,e){const s=H(t);if(typeof s!="number")return;const r=this.items[s];return!e&&E(r)?r.value:r}has(t){const e=H(t);return typeof e=="number"&&e<this.items.length}set(t,e){const s=H(t);if(typeof s!="number")throw new Error(`Expected a valid index, not ${t}.`);const r=this.items[s];E(r)&&Ae(e)?r.value=e:this.items[s]=e}toJSON(t,e){const s=[];e!=null&&e.onCreate&&e.onCreate(s);let r=0;for(const i of this.items)s.push(k(i,String(r++),e));return s}toString(t,e,s){return t?Ce(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:s,onComment:e}):JSON.stringify(this)}static from(t,e,s){const{replacer:r}=s,i=new this(t);if(e&&Symbol.iterator in Object(e)){let o=0;for(let l of e){if(typeof r=="function"){const f=e instanceof Set?l:String(o++);l=r.call(e,f,l)}i.items.push(x(l,void 0,s))}}return i}}function H(n){let t=E(n)?n.value:n;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}function tt(n,t,e){const{replacer:s}=e,r=new Pe(n);r.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof s=="function"&&(o=s.call(t,String(i++),o));let l,f;if(Array.isArray(o))if(o.length===2)l=o[0],f=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)l=c[0],f=o[l];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else l=o;r.items.push(pe(l,f,e))}return r}class ye extends Pe{constructor(){super(),this.add=J.prototype.add.bind(this),this.delete=J.prototype.delete.bind(this),this.get=J.prototype.get.bind(this),this.has=J.prototype.has.bind(this),this.set=J.prototype.set.bind(this),this.tag=ye.tag}toJSON(t,e){if(!e)return super.toJSON(t);const s=new Map;e!=null&&e.onCreate&&e.onCreate(s);for(const r of this.items){let i,o;if(N(r)?(i=k(r.key,"",e),o=k(r.value,i,e)):i=k(r,"",e),s.has(i))throw new Error("Ordered maps must not include duplicate keys");s.set(i,o)}return s}static from(t,e,s){const r=tt(t,e,s),i=new this;return i.items=r.items,i}}ye.tag="tag:yaml.org,2002:omap";class me extends J{constructor(t){super(t),this.tag=me.tag}add(t){let e;N(t)?e=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?e=new P(t.key,null):e=new P(t,null),D(this.items,e.key)||this.items.push(e)}get(t,e){const s=D(this.items,t);return!e&&N(s)?E(s.key)?s.key.value:s.key:s}set(t,e){if(typeof e!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof e}`);const s=D(this.items,t);s&&!e?this.items.splice(this.items.indexOf(s),1):!s&&e&&this.items.push(new P(t))}toJSON(t,e){return super.toJSON(t,e,Set)}toString(t,e,s){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),e,s);throw new Error("Set items must all have null values")}static from(t,e,s){const{replacer:r}=s,i=new this(t);if(e&&Symbol.iterator in Object(e))for(let o of e)typeof r=="function"&&(o=r.call(e,o,o)),i.items.push(pe(o,null,s));return i}}me.tag="tag:yaml.org,2002:set";new Set("0123456789ABCDEFabcdef");new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()");new Set(",[]{}");new Set(` ,[]{}
\r	`);
