import{E as L,aG as $,aH as z,S as M,U,aI as y,z as I,an as G,y as K,h as T,aJ as P,aK as j,aB as S,aA as x,aL as H}from"./runtime.RAT1rWNc.js";import{a as J}from"./render.CdTMVJmj.js";import{c as W}from"./each.D54gxcCT.js";import{w as D}from"./events.B1WT2ooS.js";const Q=()=>performance.now(),b={tick:i=>requestAnimationFrame(i),now:()=>Q(),tasks:new Set};function q(){const i=b.now();b.tasks.forEach(t=>{t.c(i)||(b.tasks.delete(t),t.f())}),b.tasks.size!==0&&b.tick(q)}function V(i){let t;return b.tasks.size===0&&b.tick(q),{promise:new Promise(r=>{b.tasks.add(t={c:i,f:r})}),abort(){b.tasks.delete(t)}}}function C(i,t){D(()=>{i.dispatchEvent(new CustomEvent(t))})}function X(i){if(i==="float")return"cssFloat";if(i==="offset")return"cssOffset";if(i.startsWith("--"))return i;const t=i.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function B(i){const t={},r=i.split(";");for(const e of r){const[a,f]=e.split(":");if(!a||f===void 0)break;const n=X(a.trim());t[n]=f.trim()}return t}const Y=i=>i;function at(i,t,r){var e=W,a,f,n,h=null;e.a??(e.a={element:i,measure(){a=this.element.getBoundingClientRect()},apply(){if(n==null||n.abort(),f=this.element.getBoundingClientRect(),a.left!==f.left||a.right!==f.right||a.top!==f.top||a.bottom!==f.bottom){const d=t()(this.element,{from:a,to:f},r==null?void 0:r());n=N(this.element,d,void 0,1,()=>{n==null||n.abort(),n=void 0})}},fix(){if(!i.getAnimations().length){var{position:d,width:p,height:u}=getComputedStyle(i);if(d!=="absolute"&&d!=="fixed"){var v=i.style;h={position:v.position,width:v.width,height:v.height,transform:v.transform},v.position="absolute",v.width=p,v.height=u;var s=i.getBoundingClientRect();if(a.left!==s.left||a.top!==s.top){var o=`translate(${a.left-s.left}px, ${a.top-s.top}px)`;v.transform=v.transform?`${v.transform} ${o}`:o}}}},unfix(){if(h){var d=i.style;d.position=h.position,d.width=h.width,d.height=h.height,d.transform=h.transform}}}),e.a.element=i}function et(i,t,r,e){var a=(i&y)!==0,f=(i&P)!==0,n=a&&f,h=(i&j)!==0,d=n?"both":a?"in":"out",p,u=t.inert,v=t.style.overflow,s,o;function m(){var c=H,E=I;S(null),x(null);try{return p??(p=r()(t,(e==null?void 0:e())??{},{direction:d}))}finally{S(c),x(E)}}var _={is_global:h,in(){var c;if(t.inert=u,!a){o==null||o.abort(),(c=o==null?void 0:o.reset)==null||c.call(o);return}f||s==null||s.abort(),C(t,"introstart"),s=N(t,m(),o,1,()=>{C(t,"introend"),s==null||s.abort(),s=p=void 0,t.style.overflow=v})},out(c){if(!f){c==null||c(),p=void 0;return}t.inert=!0,C(t,"outrostart"),o=N(t,m(),s,0,()=>{C(t,"outroend"),c==null||c()})},stop:()=>{s==null||s.abort(),o==null||o.abort()}},w=I;if((w.transitions??(w.transitions=[])).push(_),a&&J){var g=h;if(!g){for(var l=w.parent;l&&l.f&L;)for(;(l=l.parent)&&!(l.f&$););g=!l||(l.f&z)!==0}g&&M(()=>{U(()=>_.in())})}}function N(i,t,r,e,a){var f=e===1;if(G(t)){var n,h=!1;return K(()=>{if(!h){var w=t({direction:f?"in":"out"});n=N(i,w,r,e,a)}}),{abort:()=>{h=!0,n==null||n.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return a(),{abort:T,deactivate:T,reset:T,t:()=>e};const{delay:d=0,css:p,tick:u,easing:v=Y}=t;var s=[];if(f&&r===void 0&&(u&&u(0,1),p)){var o=B(p(0,1));s.push(o,o)}var m=()=>1-e,_=i.animate(s,{duration:d});return _.onfinish=()=>{var w=(r==null?void 0:r.t())??1-e;r==null||r.abort();var g=e-w,l=t.duration*Math.abs(g),c=[];if(l>0){var E=!1;if(p)for(var O=Math.ceil(l/16.666666666666668),k=0;k<=O;k+=1){var R=w+g*v(k/O),F=B(p(R,1-R));c.push(F),E||(E=F.overflow==="hidden")}E&&(i.style.overflow="hidden"),m=()=>{var A=_.currentTime;return w+g*v(A/l)},u&&V(()=>{if(_.playState!=="running")return!1;var A=m();return u(A,1-A),!0})}_=i.animate(c,{duration:l,fill:"forwards"}),_.onfinish=()=>{m=()=>e,u==null||u(e,1-e),a()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=T)},deactivate:()=>{a=T},reset:()=>{e===0&&(u==null||u(1,0))},t:()=>m()}}function nt(i){const t=i-1;return t*t*t+1}function st(i){return Math.pow(i-1,3)*(1-i)+1}export{at as a,nt as c,st as q,et as t};
