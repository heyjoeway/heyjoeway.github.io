import{c as Q,a as l,t as b,b as ae}from"./disclose-version.D_FZJbBx.js";import"./legacy.CpgGiEmo.js";import{L as at,p as A,a as D,g as t,c as H,f as z,r as R,ad as I,ab as h,ax as V,a0 as re,ay as se,aR as rt,s as C,t as $,d as de,n as N}from"./runtime.RAT1rWNc.js";import{s as K}from"./render.CdTMVJmj.js";import{i as w}from"./if.D4MqHMYU.js";import{s as T,a as it,b as Pe,c as st}from"./attributes.BB8B8stH.js";import{s as nt,a as lt}from"./style.FSDaS7OE.js";import{e as X,k as ot}from"./events.B1WT2ooS.js";import{i as Y}from"./lifecycle.Dp5kZ3lh.js";import{p as u,l as Ce}from"./props.BzOUVZJ9.js";import{s as ie}from"./Button.svelte_svelte_type_style_lang.B2fbdasU.js";import{t as ze,q as Le}from"./index.DyIdwSJO.js";import{b as ve}from"./this.CgsJQrIo.js";import{o as Ee}from"./index-client.CpkPDDHc.js";import{l as ct,u as dt}from"./Image.svelte_svelte_type_style_lang.HijFV9T4.js";import{T as ft}from"./ThemeProvider.CEhoo_S_.js";import{B as fe}from"./Button.B3V4dc3M.js";import{e as vt,i as ut}from"./each.D54gxcCT.js";import{s as gt}from"./Utils.WwW4-Fab.js";function qe(i,e){var s;var a=(s=i.$$events)==null?void 0:s[e.type],o=at(a)?a.slice():a==null?[]:[a];for(var f of o)f.call(this,e)}function mt(i,e){A(e,!1),Ee(()=>(ct(),dt)),Y(),D()}var _t=b('<div class="anchor"><!></div>');function ht(i,e){A(e,!1);let a=I();Ee(()=>{let s=document.getElementById("anchor-container");return s||(s=document.body.appendChild(document.createElement("div")),s.id="anchor-container"),s.appendChild(t(a)),()=>{s.removeChild(t(a))}}),Y();var o=_t(),f=H(o);ft(f,{children:(s,O)=>{var x=Q(),y=z(x);ie(y,e,"default",{},null),l(s,x)},$$slots:{default:!0}}),R(o),ve(o,s=>h(a,s),()=>t(a)),l(i,o),D()}const pt=i=>i;function bt(i){const e=i-1;return e*e*e+1}function Be(i,{delay:e=0,duration:a=400,easing:o=pt}={}){const f=+getComputedStyle(i).opacity;return{delay:e,duration:a,easing:o,css:s=>`opacity: ${s*f}`}}function aa(i,{delay:e=0,duration:a=400,easing:o=bt,start:f=0,opacity:s=0}={}){const O=getComputedStyle(i),x=+O.opacity,y=O.transform==="none"?"":O.transform,r=1-f,g=x*(1-s);return{delay:e,duration:a,easing:o,css:(S,v)=>`
			transform: ${y} scale(${1-r*v});
			opacity: ${x-g*v}
		`}}let xt=0;var yt=b('<!>  <div class="bg svelte-fww82a"></div>  <div class="outer-container svelte-fww82a"><!></div>',1);function St(i,e){A(e,!1);let a=I(!1),o=u(e,"open",12,!1),f=u(e,"allowClose",8,!0),s=I();function O(y){y.target===t(s)&&history.back()}function x(y){f()&&o(!1)}V(()=>(re(o()),t(a)),()=>{o()&&!t(a)&&history.pushState({},"",new URL(`?overlay-${xt++}`,location.href).href),h(a,o())}),se(),Y(),X("popstate",rt,x),ht(i,{children:(y,r)=>{var g=Q(),S=z(g);{var v=p=>{var L=yt(),j=z(L);mt(j,{});var M=C(j,2),c=C(M,2),Z=H(c);ie(Z,e,"default",{},null),R(c),ve(c,G=>h(s,G),()=>t(s)),ze(3,M,()=>Be,()=>({duration:500,easing:Le})),X("click",c,O),ze(3,c,()=>Be,()=>({duration:100,easing:Le})),l(p,L)};w(S,p=>{o()&&p(v)})}l(y,g)},$$slots:{default:!0}}),D()}var kt=b("<source>"),wt=b("<picture><!> <!></picture>");function It(i,e){A(e,!1);let a=u(e,"sources",24,()=>({})),o=u(e,"sizes",8,void 0),f=I([]);V(()=>re(a()),()=>{h(f,Object.entries(a()))}),se();var s=Q(),O=z(s);{var x=r=>{var g=wt(),S=H(g);vt(S,1,()=>t(f),ut,(p,L)=>{let j=()=>t(L)[0],M=()=>t(L)[1];var c=kt();$(()=>{T(c,"type",`image/${j()??""}`),T(c,"sizes",o()),T(c,"srcset",M())}),l(p,c)});var v=C(S,2);ie(v,e,"default",{},null),R(g),l(r,g)},y=r=>{var g=Q(),S=z(g);ie(S,e,"default",{},null),l(r,g)};w(O,r=>{t(f).length?r(x):r(y,!1)})}l(i,s),D()}function Me(i){return i&&Object.keys(i).length}function $e(i){return i[0]==="#"?i:`url(data:image/webp;base64,${i}) no-repeat center/cover`}var Ot=b("<img>");function je(i,e){const a=Ce(e,["children","$$slots","$$events","$$legacy"]),o=Ce(a,["src","sizes","width","height","loading","decoding","ref"]);A(e,!1);let f=u(e,"src",24,()=>({})),s=u(e,"sizes",8,void 0),O=u(e,"width",8,void 0),x=u(e,"height",8,void 0),y=u(e,"loading",8,"lazy"),r=u(e,"decoding",8,"async"),g=u(e,"ref",12,void 0),S=I([]),v=I({}),p=I(void 0);V(()=>re(f()),()=>{h(S,f().sources||{})}),V(()=>re(f()),()=>{h(v,f().img||{})}),V(()=>(t(v),$e),()=>{if(Me(t(v))){const{lqip:c}=t(v);h(p,c?$e(c):void 0)}}),se(),Y();var L=Q(),j=z(L);{var M=c=>{It(c,{get sources(){return t(S)},get sizes(){return s()},children:(Z,G)=>{var q=Ot();let U;ve(q,B=>g(B),()=>g()),$(()=>{U=it(q,U,{...o,loading:y(),decoding:r(),width:O()||t(v).w||void 0,height:x()||t(v).h||void 0,src:t(v).src}),nt(q,"background",t(p))}),ot(q),X("click",q,function(B){qe.call(this,e,B)}),X("load",q,function(B){qe.call(this,e,B)}),l(Z,q)},$$slots:{default:!0}})};w(j,c=>{Me(t(v))&&c(M)})}l(i,L),D()}var Pt=b('<img alt=" ">'),Ct=b('<img class="img img-lightbox svelte-2f14cl" alt=" ">'),zt=b(" <br>",1),Lt=b(" <br>",1),qt=b(" <br>",1),Bt=b(" <br>",1),Mt=b(" <br> <!> <!> <!> <!> <!>",1),$t=b('<div class="overlay-exif svelte-2f14cl"><!></div>'),jt=b('<div class="img-lightbox-container svelte-2f14cl"><div class="full-src-link svelte-2f14cl"><!></div> <div class="close-button svelte-2f14cl"><!></div> <!> <!></div>'),Et=b('<div class="img-container svelte-2f14cl"><!></div> <!>',1);function ra(i,e){var ue,ge,me,_e,he,pe,be,xe;A(e,!1);let a=u(e,"src",8),o=u(e,"fullSrc",8,void 0),f=u(e,"maxHeight",8,"450px"),s=u(e,"width",8,void 0),O=u(e,"height",8,void 0),x=u(e,"enableLightbox",8,!0),y=u(e,"square",8,!1),r=u(e,"exif",8,void 0),g=I(!1),S=I(!1);if(typeof a()=="string"){let m=a().split("?")[0].endsWith(".gif"),P=a().split("?")[0].endsWith(".svg");h(g,m||P),h(S,m)}let v=I(o()||a());typeof t(v)=="object"&&h(v,t(v).img.src);let p=I(!1);const L={img:!0,clickable:x(),square:y()},j=((ge=(ue=r())==null?void 0:ue.Software)==null?void 0:ge.description)||"";let M=I(j.length>0);t(M)&&!isNaN(parseInt(j[0]))&&h(M,!1);let c=(_e=(me=r())==null?void 0:me.ISOSpeedRatings)==null?void 0:_e.description;c&&(c="ISO "+c);const G=[(pe=(he=r())==null?void 0:he.FNumber)==null?void 0:pe.description,(xe=(be=r())==null?void 0:be.ShutterSpeedValue)==null?void 0:xe.description,c].filter(m=>m).join(", ");let q=I(!1);V(()=>t(p),()=>{t(p)||h(q,!1)}),se(),Y();var U=Et(),B=z(U),Fe=H(B);{var He=m=>{var P=Pt();$(ye=>{lt(P,st(ye),"svelte-2f14cl"),T(P,"src",a()),T(P,"style",t(S)?"image-rendering: pixelated;":"")},[()=>Pe(L)],de),l(m,P)},Re=m=>{const P=de(()=>Pe(L));je(m,{get class(){return t(P)},get src(){return a()},alt:" "})};w(Fe,m=>{t(g)?m(He):m(Re,!1)})}R(B);var Te=C(B,2);{var Ne=m=>{St(m,{get open(){return t(p)},set open(P){h(p,P)},children:(P,ye)=>{var ne=jt(),le=H(ne),We=H(le);fe(We,{get onClick(){return t(v)},children:(k,E)=>{N();var J=ae("🔗 Open Full Image");l(k,J)},$$slots:{default:!0}}),R(le);var oe=C(le,2),Ve=H(oe);fe(Ve,{onClick:()=>h(p,!1),children:(k,E)=>{N();var J=ae("❌");l(k,J)},$$slots:{default:!0}}),R(oe);var Se=C(oe,2);{var Ae=k=>{var E=Ct();$(()=>{T(E,"src",a()),T(E,"style",t(S)?"image-rendering: pixelated;":"")}),l(k,E)},De=k=>{je(k,{class:"img img-lightbox",get src(){return a()},alt:" "})};w(Se,k=>{t(g)?k(Ae):k(De,!1)})}var Ge=C(Se,2);{var Ue=k=>{var E=$t(),J=H(E);{var Je=W=>{var ee=Mt(),ce=z(ee),te=C(ce,3);{var Qe=d=>{var n=zt(),_=z(n);N(),$(()=>{var F,Oe;return K(_,`📷 ${((F=r().Make)==null?void 0:F.description)??""} ${((Oe=r().Model)==null?void 0:Oe.description)??""}`)}),l(d,n)};w(te,d=>{var n,_;((n=r().Make)!=null&&n.description||(_=r().Model)!=null&&_.description)&&d(Qe)})}var ke=C(te,2);{var Xe=d=>{var n=Lt(),_=z(n);N(),$(()=>{var F;return K(_,`🔎 ${((F=r().Lens)==null?void 0:F.description)??""}`)}),l(d,n)};w(ke,d=>{var n;(n=r().Lens)!=null&&n.description&&d(Xe)})}var we=C(ke,2);{var Ye=d=>{var n=qt(),_=z(n);_.nodeValue=`⚙️ ${G??""}`,N(),l(d,n)};w(we,d=>{G&&d(Ye)})}var Ie=C(we,2);{var Ze=d=>{var n=Bt(),_=z(n);N(),$(()=>{var F;return K(_,`⚡ ${((F=r().Flash)==null?void 0:F.description)??""}`)}),l(d,n)};w(Ie,d=>{var n;(n=r().Flash)!=null&&n.description&&d(Ze)})}var et=C(Ie,2);{var tt=d=>{var n=ae();$(()=>{var _;return K(n,`🖌️ Edited with ${((_=r().Software)==null?void 0:_.description)??""}`)}),l(d,n)};w(et,d=>{t(M)&&d(tt)})}$(()=>{var d,n,_;return K(ce,`🖵 (Original: ${((d=r()["Image Height"])==null?void 0:d.value)??""}x${((n=r()["Image Width"])==null?void 0:n.value)??""} ${((_=r()["Bits Per Sample"])==null?void 0:_.value)??""}bpp)`)}),l(W,ee)},Ke=W=>{fe(W,{onClick:()=>h(q,!0),children:(ee,ce)=>{N();var te=ae("ℹ️");l(ee,te)},$$slots:{default:!0}})};w(J,W=>{t(q)?W(Je):W(Ke,!1)})}R(E),l(k,E)};w(Ge,k=>{r()&&k(Ue)})}R(ne),l(P,ne)},$$slots:{default:!0},$$legacy:!0})};w(Te,m=>{x()&&m(Ne)})}$(m=>T(B,"style",m),[()=>gt({"--img-max-height":f(),"--img-width":s(),"--img-height":O()})],de),X("click",B,()=>{h(p,!0)}),l(i,U),D()}export{ra as I,je as S,Be as f,aa as s};
