<!doctype html>
<html lang="en">
	<head>
		<link rel="stylesheet" href="../../reset.css" />
		<link rel="stylesheet" href="../../base.css" />
		<meta charset="utf-8" />
		<meta name="color-scheme" content="dark">
		<link rel="icon" href="../../favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../../_app/immutable/assets/2.B4Zt5mAd.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Button.CO_IFsgN.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Tags.zOjeMBQI.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Center.SiIiNQdp.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Layout.BC5Y1jTu.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Comments.CwG70sSM.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/MdsvexLayout.CHwKgJip.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.BQPdfXFQ.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/entry.DQWwdVAi.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/runtime.CB7vMNxi.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.CFmUStq8.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.Deip6YQ6.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/preload-helper.C1FmrZbK.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/render.C_owM0lh.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/events.g-TKVM13.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/disclose-version.COfjB1Z8.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/if.CpsS6z-Y.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/props.CWm5ceOU.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/store.BLu9qPKY.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/this.k4Anh_d_.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index-client.LAWPVrg1.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.DECslsFW.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/snippet.CA4YoLv5.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/2.BW5g9TKP.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/legacy.CO0tqMOo.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Utils.DMW3rGOr.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/lexer.8L2875pD.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Button.svelte_svelte_type_style_lang.H45aMkML.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/attributes.CiUNM-ED.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/lifecycle.CEi1SKB7.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Tags.BqqEVrYE.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/ArticleLayout.CY0Dsb-J.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Center.Cr-GrEzu.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Layout.D1_Ywrvw.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/_commonjsHelpers.82k3NAuP.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/style.PwPRnE0L.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.D0AWYtkR.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Button.wEkuaWtd.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Comments.DboH682w.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Consent.CxN7oCzD.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/15.fiJAatCm.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/MdsvexLayout.BpAqaaRH.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Code.ltmLbEse.js">
	</head>
	<body>
		<div style="display: contents"><!--[--><!--[--><!----><!--[--><!----><div style="background-color: black; background-image: url();" class="bg svelte-rfb14"><!--[!--><!--]--></div><!----> <div class="layout svelte-1kupl3e"><div class="header svelte-1kupl3e"><div class="title"><a class="site-title svelte-1kupl3e" rel="author" href="/"><span style="color:palevioletred">hey</span><span style="color:orange">joe</span><span style="color:skyblue">way</span><span style="color:white">.</span></a></div> <div class="nav svelte-1kupl3e"><div style="width: default; height: 32px;" class="clickable svelte-1f9eqjh"><!--[--><a href="/articles" data-sveltekit-reload="false" data-sveltekit-preload-data="hover" class="svelte-1f9eqjh"><!--[!--><!----><div style="color: white;" class="svelte-1kdig2t"><!--[!--><!--]--> <!----><!---->Articles<!----></div><!----><!--]--></a><!--]--></div><!----> <div style="width: default; height: 32px;" class="clickable svelte-1f9eqjh"><!--[--><a href="/feeds" data-sveltekit-reload="false" data-sveltekit-preload-data="hover" class="svelte-1f9eqjh"><!--[!--><!----><div style="color: white;" class="svelte-1kdig2t"><!--[!--><!--]--> <!----><!---->Feeds<!----></div><!----><!--]--></a><!--]--></div><!----></div></div> <!----><!----><div class="header-container svelte-nevtvt"><div><h1 class="svelte-nevtvt">Notes: Linux</h1> <div class="svelte-1gxf1qy"><!--[--><a href="/category/software/" class="svelte-1gxf1qy">software</a><a href="/category/linux/" class="svelte-1gxf1qy">linux</a><!--]--></div><!----></div> <div class="times svelte-nevtvt"><!--[--><!--[--><time class="dt svelte-nevtvt" datetime="2025-03-03T22:08:14-05:00" itemprop="datePublished">Published Mar 4, 2025</time> <br><!--]--><!--[--><time class="dt svelte-nevtvt" datetime="2025-06-19T15:34:16-04:00" itemprop="datePublished">Last modified Jun 19, 2025</time> <br><!--]--><!--]--></div></div> <br> <hr> <!----><!----><!----><p>Random notes for Linux. Primarily for my own reference.</p> <h1>Scripting</h1> <div class="code-container svelte-ssehov"><div class="copy-button svelte-ssehov"><div style="width: default; height: 26px;" class="clickable svelte-1f9eqjh"><!--[!--><!----><div style="color: white;" class="svelte-1kdig2t"><!--[!--><!--]--> <!----><!---->ðŸ“‹<!----></div><!----><!--]--></div><!----></div> <pre><code class="svelte-ssehov"><!----><span class="hljs-comment"># Change Dir to Script Dir</span>
<span class="hljs-built_in">cd</span> <span class="hljs-string">&quot;<span class="hljs-subst">$(dirname <span class="hljs-string">&quot;<span class="hljs-variable">$0</span>&quot;</span>)</span>&quot;</span><!----></code></pre></div><!----> <h1>Personal Utilities</h1> <div class="code-container svelte-ssehov"><div class="copy-button svelte-ssehov"><div style="width: default; height: 26px;" class="clickable svelte-1f9eqjh"><!--[!--><!----><div style="color: white;" class="svelte-1kdig2t"><!--[!--><!--]--> <!----><!---->ðŸ“‹<!----></div><!----><!--]--></div><!----></div> <pre><code class="svelte-ssehov"><!----><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Deepseek API Key:&quot;</span>
<span class="hljs-built_in">read</span> key_deepseek
<span class="hljs-built_in">cd</span> ~
<span class="hljs-built_in">mkdir</span> bin
<span class="hljs-built_in">cd</span> bin
curl https://zyedidia.github.io/eget.sh | sh
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;1&quot;</span> | ./eget -a static.tar.gz zyedidia/micro
./eget sigoden/aichat
<span class="hljs-built_in">cd</span> ~
<span class="hljs-built_in">cat</span> &lt;&lt; <span class="hljs-string">EOF &gt;&gt; .bashrc
export PATH=$PATH:~/bin
export EDITOR=micro
alias ai=&quot;aichat -e&quot;
alias l=&quot;ls -la&quot;
alias e=&quot;micro&quot;
EOF</span>
<span class="hljs-built_in">mkdir</span> -p ~/.config/aichat/
<span class="hljs-built_in">cat</span> &lt;&lt; <span class="hljs-string">EOF &gt; ~/.config/aichat/config.yaml
# see https://github.com/sigoden/aichat/blob/main/config.example.yaml
model: deepseek:deepseek-chat
clients:
- type: openai-compatible
  name: deepseek
  api_base: https://api.deepseek.com
  api_key: $key_deepseek
EOF</span>
<span class="hljs-built_in">exec</span> bash<!----></code></pre></div><!----> <h1>(My) Ideal Debian VM Setup</h1> <h2>Serial Access</h2> <div class="code-container svelte-ssehov"><div class="copy-button svelte-ssehov"><div style="width: default; height: 26px;" class="clickable svelte-1f9eqjh"><!--[!--><!----><div style="color: white;" class="svelte-1kdig2t"><!--[!--><!--]--> <!----><!---->ðŸ“‹<!----></div><!----><!--]--></div><!----></div> <pre><code class="svelte-ssehov"><!----><span class="hljs-comment"># Enable serial console</span>
systemctl <span class="hljs-built_in">enable</span> serial-getty@ttyS0.service<!----></code></pre></div><!----> <h2>General</h2> <div class="code-container svelte-ssehov"><div class="copy-button svelte-ssehov"><div style="width: default; height: 26px;" class="clickable svelte-1f9eqjh"><!--[!--><!----><div style="color: white;" class="svelte-1kdig2t"><!--[!--><!--]--> <!----><!---->ðŸ“‹<!----></div><!----><!--]--></div><!----></div> <pre><code class="svelte-ssehov"><!---->timedatectl set-timezone America/New_York
apt update
apt upgrade -y
<span class="hljs-comment"># Enable automatic upgrades</span>
apt install unattended-upgrades apt-listchanges <span class="hljs-built_in">sudo</span> curl git -y
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Unattended-Upgrade::Automatic-Reboot-WithUsers &quot;</span><span class="hljs-literal">true</span><span class="hljs-string">&quot;;&quot;</span> &gt; /etc/apt/apt.conf.d/52unattended-upgrades-local<!----></code></pre></div><!----> <h3>With Docker</h3> <div class="code-container svelte-ssehov"><div class="copy-button svelte-ssehov"><div style="width: default; height: 26px;" class="clickable svelte-1f9eqjh"><!--[!--><!----><div style="color: white;" class="svelte-1kdig2t"><!--[!--><!--]--> <!----><!---->ðŸ“‹<!----></div><!----><!--]--></div><!----></div> <pre><code class="svelte-ssehov"><!---->curl -fsSL https://get.docker.com | sh
apt install -y docker-compose
docker run --detach --name watchtower --restart unless-stopped --volume /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower<!----></code></pre></div><!----> <h3>With SMB Share</h3> <div class="code-container svelte-ssehov"><div class="copy-button svelte-ssehov"><div style="width: default; height: 26px;" class="clickable svelte-1f9eqjh"><!--[!--><!----><div style="color: white;" class="svelte-1kdig2t"><!--[!--><!--]--> <!----><!---->ðŸ“‹<!----></div><!----><!--]--></div><!----></div> <pre><code class="svelte-ssehov"><!----><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-built_in">export</span> DEBIAN_FRONTEND=noninteractive
<span class="hljs-built_in">export</span> NEEDRESTART_MODE=l
apt install cifs-utils -y
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Linux username: &quot;</span>
<span class="hljs-built_in">read</span> linux_username
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;SMB Username: &quot;</span>
<span class="hljs-built_in">read</span> smb_username
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;SMB Password: &quot;</span>
<span class="hljs-built_in">read</span> smb_password
<span class="hljs-built_in">mkdir</span> /media/share
<span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;username=<span class="hljs-variable">$smb_username</span>
password=<span class="hljs-variable">$smb_password</span>&quot;</span> &gt; /root/sharecreds.txt
<span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;
//10.10.10.4/home /media/share cifs credentials=/root/sharecreds.txt,uid=<span class="hljs-variable">$linux_username</span>,gid=<span class="hljs-variable">$linux_username</span>,file_mode=0770,dir_mode=0770,noperm 0 0
&quot;</span> &gt;&gt; /etc/fstab
systemctl daemon-reload
adduser <span class="hljs-variable">$linux_username</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;*/1 *  * * *  mount -a&quot;</span> | crontab - <span class="hljs-comment"># Hack</span>
mount -a<!----></code></pre></div><!----><!----><!----><!----> <br> <!--[--><hr> <!--[!--><div class="svelte-zdtn5w"><!----><p><!---->Comments are currently disabled.<!----></p> <br> <div style="width: default; height: 32px;" class="clickable svelte-1f9eqjh"><!--[!--><!----><div style="color: white;" class="svelte-1kdig2t"><!--[!--><!--]--> <!----><!---->Enable Comments<!----></div><!----><!--]--></div><!----><br> <p style="text-align: center;"><!---->By enabling comments, you agree to allow this website to connect to Cusdis and to the <a href="https://cusdis.com/privacy-policy" target="_blank">Cusdis Privacy Policy</a>.<!----></p><!----></div><!--]--><!----><!--]--><!----> <hr> <div class="svelte-zdtn5w"><!----><div class="svelte-1gxf1qy"><!--[--><a href="/category/design/" class="svelte-1gxf1qy">design</a><a href="/category/ui/" class="svelte-1gxf1qy">ui</a><a href="/category/meta/" class="svelte-1gxf1qy">meta</a><a href="/category/life/" class="svelte-1gxf1qy">life</a><a href="/category/work/" class="svelte-1gxf1qy">work</a><a href="/category/portfolio/" class="svelte-1gxf1qy">portfolio</a><a href="/category/programming/" class="svelte-1gxf1qy">programming</a><a href="/category/software/" class="svelte-1gxf1qy">software</a><a href="/category/macos/" class="svelte-1gxf1qy">macos</a><a href="/category/multiplatform/" class="svelte-1gxf1qy">multiplatform</a><a href="/category/games/" class="svelte-1gxf1qy">games</a><a href="/category/tools/" class="svelte-1gxf1qy">tools</a><a href="/category/photography/" class="svelte-1gxf1qy">photography</a><a href="/category/windows/" class="svelte-1gxf1qy">windows</a><a href="/category/linux/" class="svelte-1gxf1qy">linux</a><a href="/category/proxmox/" class="svelte-1gxf1qy">proxmox</a><!--]--></div><!----></div><!----> <br><!----></div><!----><!--]--><!----><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_3cympo = {
						base: new URL("../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					const data = [{"type":"data","data":{categories:["design","ui","meta","life","work","portfolio","programming","software","macos","multiplatform","games","tools","photography","windows","linux","proxmox"]},"uses":{},"slash":"always"},{"type":"data","data":{fm:{title:"Notes: Linux",categories:"software linux",comments:true,last_modified_at:"2025-06-19T15:34:16-04:00",date:"2025-03-03T22:08:14-05:00"},id:"/articles/notes-linux"},"uses":{"route":1}},null];

					Promise.all([
						import("../../_app/immutable/entry/start.BQPdfXFQ.js"),
						import("../../_app/immutable/entry/app.Deip6YQ6.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 15],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
